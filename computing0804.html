<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>简易计算器</title>
		<style>
			div{
				text-align: center;
			}
			table{
				margin: 0 auto;
				width: 200px;
				height: 100px;
				text-align: center;
				
			}
			table tr td{
				background-color: white;
				border: 1px solid #a69c9c;
			}
			input{
				margin: 0 auto;
				width: 192px;
			}
		</style>
	</head>
	<body>
		<!--
        	作者：492680716@qq.com
        	时间：2017-07-26
        	描述：计算器
        -->
		<div>
			<input type="text" disabled="disabled" name="input" value="" placeholder="计算结果"/>
			<table>
				<tr>
					<td class="td2">C</td>
					<td>+</td>
					<td>-</td>
					<td>*</td>
					
				</tr>
				<tr>
					<td>7</td>
					<td>8</td>
					<td>9</td>
					<td>/</td>
				</tr>
				<tr>
					<td>4</td>
					<td>5</td>
					<td>6</td>
					<td rowspan="3" class="result">=</td>
				</tr>
				<tr>
					<td>1</td>
					<td>2</td>
					<td>3</td>
				</tr>
				<tr>
					<td>%</td>
					<td>0</td>
					<td>.</td>
				</tr>
			</table>
		</div>
		
		
		<script>
			//计算器
			//鼠标事件获取值
			//委托事件子级
			function getELementMouse(){
				var td=document.querySelectorAll("tr td");
				for (var i=0;i<td.length;i++) {
					td[i].addEventListener("mouseup",function(td_1){
						td_1.target.style.backgroundColor="#FFFFFF";
					})
				}
			}
			//清空input内容
			document.querySelector('.td2').addEventListener("click",function(e){
				document.querySelector("input").value="";
				e.stopPropagation(); //阻止冒泡
			})
			//委事件父级
			document.querySelector("table").addEventListener("mousedown",function(tab){
				getELementMouse();
				tab.target.style.backgroundColor="#a69c9c";
				if(tab.target.innerHTML!='='){
					document.querySelector('input').value+=tab.target.innerHTML;
				}
			})
			
			//等于号的点击事件，eval用来计算
			document.querySelector(".result").addEventListener('click',function(){
				var ipt=document.querySelector('input').value;
				var result=eval(ipt);
				document.querySelector('input').value=result;
			})
		</script>
	</body>
</html>
